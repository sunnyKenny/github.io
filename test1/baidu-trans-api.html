<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <script src="../api/jquery.min.js"></script>
    
    <script src="../api/md5.js"></script>
    <title>翻译</title>
</head>
<body>
    <style>
        #Translate:hover{
            background-color:cornflowerblue;
        }


    </style>
    <div id="big" style="display:block">


        <div id="query_line" style="
    margin-bottom: 10px;">
            <input id="query" style="padding-left:6px"/>
        </div>
        <div id=" Ts_line">
            <button id="Translate" onclick="Ts()">翻译</button>
            <select name="语言" id="language" size="1" style="width:100px"> 
                <option value="zh" selected>中文</option>
                <option value="en">英文</option>
                <option value="jp">日语</option>
            </select>
        </div>
        <div id="t_res_line" style="width: 400px; height: auto;border: 2px solid #010101">
            <p id="trans_result" style="width:auto;height:200px;padding:1px 6px;text-align:left"></p>
        </div>
    </div>
    <script>
        function Ts() {
            var appid = '20201028000600641';
            var key = 'JwYo4o_VG7VOVecapszh';
            var salt = (new Date).getTime();
            var from = 'auto';
            var to = document.getElementById("language").value;
            var q = document.getElementById("query").value;

            var str1 = appid + q + salt + key;
            var sign = MD5(str1);

            $.ajax({
                url: 'http://api.fanyi.baidu.com/api/trans/vip/translate',
                type: 'get',
                dataType: 'jsonp',
                data: {
                    q: q,
                    appid: appid,
                    salt: salt,
                    from: from,
                    to: to,
                    sign: sign
                },
                success: function (data) {
                    console.log(data);
                    document.getElementById("trans_result").innerText = data.trans_result[0].dst;
                }
            });

        }

    </script>
</body>
</html>